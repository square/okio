



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A modern I/O library for Android, Kotlin, and Java.">
      
      
      
        <meta name="author" content="Square, Inc.">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../../images/icon-square.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Okio</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../../../css/app.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="white">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#unsafecursor" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../../.." title="Okio" class="md-header-nav__button md-logo">
          
            <img src="../../../../../images/icon-square.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Okio
            </span>
            <span class="md-header-nav__topic">
              
                Home
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/square/okio/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Okio
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../../.." title="Okio" class="md-nav__button md-logo">
      
        <img src="../../../../../images/icon-square.png" width="48" height="48">
      
    </a>
    Okio
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/square/okio/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Okio
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://stackoverflow.com/questions/tagged/okio?sort=active" title="Stack Overflow ⏏" class="md-nav__link">
      Stack Overflow ⏏
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../" title="2.x API" class="md-nav__link">
      2.x API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://square.github.io/okio/1.x/okio/" title="1.x API ⏏" class="md-nav__link">
      1.x API ⏏
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../changelog/" title="Change Log" class="md-nav__link">
      Change Log
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../code_of_conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#constructors" title="Constructors" class="md-nav__link">
    Constructors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties" title="Properties" class="md-nav__link">
    Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/square/okio/edit/master/docs/2.x/okio/okio/-buffer/-unsafe-cursor/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a href="../../../">okio</a> / <a href="../../">okio</a> / <a href="../">Buffer</a> / <a href="./">UnsafeCursor</a></p>
<h1 id="unsafecursor">UnsafeCursor<a class="headerlink" href="#unsafecursor" title="Permanent link">&para;</a></h1>
<p><code>class UnsafeCursor :</code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html"><code>Closeable</code></a></p>
<p><strong>Platform and version requirements:</strong> JVM</p>
<p>A handle to the underlying data in a buffer. This handle is unsafe because it does not enforce
its own invariants. Instead, it assumes a careful user who has studied Okio&rsquo;s implementation
details and their consequences.</p>
<p>Buffer Internals</p>
<p>Most code should use <code>Buffer</code> as a black box: a class that holds 0 or more bytes of
data with efficient APIs to append data to the end and to consume data from the front. Usually
this is also the most efficient way to use buffers because it allows Okio to employ several
optimizations, including:</p>
<ul>
<li><strong>Fast Allocation:</strong> Buffers use a shared pool of memory that is not zero-filled before use.</li>
<li><strong>Fast Resize:</strong> A buffer&rsquo;s capacity can change without copying its contents.</li>
<li><strong>Fast Move:</strong> Memory ownership can be reassigned from one buffer to another.</li>
<li><strong>Fast Copy:</strong> Multiple buffers can share the same underlying memory.</li>
<li><strong>Fast Encoding and Decoding:</strong> Common operations like UTF-8 encoding and decimal decoding
    do not require intermediate objects to be allocated.</li>
</ul>
<p>These optimizations all leverage the way Okio stores data internally. Okio Buffers are
implemented using a doubly-linked list of segments. Each segment is a contiguous range within a
8 KiB <code>ByteArray</code>. Each segment has two indexes, <code>start</code>, the offset of the first byte of the
array containing application data, and <code>end</code>, the offset of the first byte beyond <code>start</code> whose
data is undefined.</p>
<p>New buffers are empty and have no segments:</p>
<div class="codehilite"><pre><span></span>val buffer = Buffer()
</pre></div>

<p>We append 7 bytes of data to the end of our empty buffer. Internally, the buffer allocates a
segment and writes its new data there. The lone segment has an 8 KiB byte array but only 7
bytes of data:</p>
<div class="codehilite"><pre><span></span>buffer.writeUtf8(&quot;sealion&quot;)

// [ &#39;s&#39;, &#39;e&#39;, &#39;a&#39;, &#39;l&#39;, &#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, ...]
//    ^                                  ^
// start = 0                          end = 7
</pre></div>

<p>When we read 4 bytes of data from the buffer, it finds its first segment and returns that data
to us. As bytes are read the data is consumed. The segment tracks this by adjusting its
internal indices.</p>
<div class="codehilite"><pre><span></span>buffer.readUtf8(4) // &quot;seal&quot;

// [ &#39;s&#39;, &#39;e&#39;, &#39;a&#39;, &#39;l&#39;, &#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, ...]
//                        ^              ^
//                     start = 4      end = 7
</pre></div>

<p>As we write data into a buffer we fill up its internal segments. When a write doesn&rsquo;t fit into
a buffer&rsquo;s last segment, additional segments are allocated and appended to the linked list of
segments. Each segment has its own start and end indexes tracking where the user&rsquo;s data begins
and ends.</p>
<div class="codehilite"><pre><span></span>val xoxo = new Buffer()
xoxo.writeUtf8(&quot;xo&quot;.repeat(5_000))

// [ &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, ..., &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;]
//    ^                                                               ^
// start = 0                                                      end = 8192
//
// [ &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, ..., &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, ...]
//    ^                                            ^
// start = 0                                   end = 1808
</pre></div>

<p>The start index is always <strong>inclusive</strong> and the end index is always <strong>exclusive</strong>. The data
preceding the start index is undefined, and the data at and following the end index is
undefined.</p>
<p>After the last byte of a segment has been read, that segment may be returned to an internal
segment pool. In addition to reducing the need to do garbage collection, segment pooling also
saves the JVM from needing to zero-fill byte arrays. Okio doesn&rsquo;t need to zero-fill its arrays
because it always writes memory before it reads it. But if you look at a segment in a debugger
you may see its effects. In this example, one of the &ldquo;xoxo&rdquo; segments above is reused in an
unrelated buffer:</p>
<div class="codehilite"><pre><span></span>val abc = new Buffer()
abc.writeUtf8(&quot;abc&quot;)

// [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, &#39;x&#39;, &#39;o&#39;, ...]
//    ^              ^
// start = 0     end = 3
</pre></div>

<p>There is an optimization in <code>Buffer.clone()</code> and other methods that allows two segments to
share the same underlying byte array. Clones can&rsquo;t write to the shared byte array; instead they
allocate a new (private) segment early.</p>
<div class="codehilite"><pre><span></span>val nana = new Buffer()
nana.writeUtf8(&quot;na&quot;.repeat(2_500))
nana.readUtf8(2) // &quot;na&quot;

// [ &#39;n&#39;, &#39;a&#39;, &#39;n&#39;, &#39;a&#39;, ..., &#39;n&#39;, &#39;a&#39;, &#39;n&#39;, &#39;a&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, ...]
//              ^                                  ^
//           start = 2                         end = 5000

nana2 = nana.clone()
nana2.writeUtf8(&quot;batman&quot;)

// [ &#39;n&#39;, &#39;a&#39;, &#39;n&#39;, &#39;a&#39;, ..., &#39;n&#39;, &#39;a&#39;, &#39;n&#39;, &#39;a&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, ...]
//              ^                                  ^
//           start = 2                         end = 5000
//
// [ &#39;b&#39;, &#39;a&#39;, &#39;t&#39;, &#39;m&#39;, &#39;a&#39;, &#39;n&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, ...]
//    ^                             ^
//  start = 0                    end = 6
</pre></div>

<p>Segments are not shared when the shared region is small (ie. less than 1 KiB). This is intended
to prevent fragmentation in sharing-heavy use cases.</p>
<p>Unsafe Cursor API</p>
<p>This class exposes privileged access to the internal byte arrays of a buffer. A cursor either
references the data of a single segment, it is before the first segment (<code>offset == -1</code>), or it
is after the last segment (<code>offset == buffer.size</code>).</p>
<p>Call <a href="seek/">UnsafeCursor.seek</a> to move the cursor to the segment that contains a specified offset.
After seeking, <a href="data/">UnsafeCursor.data</a> references the segment&rsquo;s internal byte array,
<a href="start/">UnsafeCursor.start</a> is the segment&rsquo;s start and <a href="end/">UnsafeCursor.end</a> is its end.</p>
<p>Call <a href="next/">UnsafeCursor.next</a> to advance the cursor to the next segment. This returns -1 if there
are no further segments in the buffer.</p>
<p>Use <a href="../read-unsafe/">Buffer.readUnsafe</a> to create a cursor to read buffer data and <a href="../read-and-write-unsafe/">Buffer.readAndWriteUnsafe</a>
to create a cursor to read and write buffer data. In either case, always call
<a href="close/">UnsafeCursor.close</a> when done with a cursor. This is convenient with Kotlin&rsquo;s
<a href="#">use</a> extension function. In this example we read all of the bytes in a buffer into a byte
array:</p>
<div class="codehilite"><pre><span></span>val bufferBytes = ByteArray(buffer.size.toInt())

buffer.readUnsafe().use { cursor -&gt;
  while (cursor.next() != -1) {
    System.arraycopy(cursor.data, cursor.start,
        bufferBytes, cursor.offset.toInt(), cursor.end - cursor.start);
  }
}
</pre></div>

<p>Change the capacity of a buffer with <a href="resize-buffer/">resizeBuffer</a>. This is only permitted for
read+write cursors. The buffer&rsquo;s size always changes from the end: shrinking it removes bytes
from the end; growing it adds capacity to the end.</p>
<p>Warnings</p>
<p>Most application developers should avoid this API. Those that must use this API should
respect these warnings.</p>
<p><strong>Don&rsquo;t mutate a cursor.</strong> This class has public, non-final fields because that is convenient
for low-level I/O frameworks. Never assign values to these fields; instead use the cursor API
to adjust these.</p>
<p><strong>Never mutate <code>data</code> unless you have read+write access.</strong> You are on the honor system to never
write the buffer in read-only mode. Read-only mode may be more efficient than read+write mode
because it does not need to make private copies of shared segments.</p>
<p><strong>Only access data in <code>[start..end)</code>.</strong> Other data in the byte array is undefined! It may
contain private or sensitive data from other parts of your process.</p>
<p><strong>Always fill the new capacity when you grow a buffer.</strong> New capacity is not zero-filled and
may contain data from other parts of your process. Avoid leaking this information by always
writing something to the newly-allocated capacity. Do not assume that new capacity will be
filled with <code>0</code>; it will not be.</p>
<p><strong>Do not access a buffer while is being accessed by a cursor.</strong> Even simple read-only
operations like <a href="../clone/">Buffer.clone</a> are unsafe because they mark segments as shared.</p>
<p><strong>Do not hard-code the segment size in your application.</strong> It is possible that segment sizes
will change with advances in hardware. Future versions of Okio may even have heterogeneous
segment sizes.</p>
<p>These warnings are intended to help you to use this API safely. It&rsquo;s here for developers
that need absolutely the most throughput. Since that&rsquo;s you, here&rsquo;s one final performance tip.
You can reuse instances of this class if you like. Use the overloads of <a href="../read-unsafe/">Buffer.readUnsafe</a> and
<a href="../read-and-write-unsafe/">Buffer.readAndWriteUnsafe</a> that take a cursor and close it after use.</p>
<h3 id="constructors">Constructors<a class="headerlink" href="#constructors" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="-init-/">&lt;init&gt;</a></td>
<td><code>UnsafeCursor()</code><br>A handle to the underlying data in a buffer. This handle is unsafe because it does not enforce its own invariants. Instead, it assumes a careful user who has studied Okio&rsquo;s implementation details and their consequences.</td>
</tr>
</tbody>
</table>
<h3 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="buffer/">buffer</a></td>
<td><code>var buffer:</code><a href="../"><code>Buffer</code></a><code>?</code></td>
</tr>
<tr>
<td><a href="data/">data</a></td>
<td><code>var data:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte-array/index.html"><code>ByteArray</code></a><code>?</code></td>
</tr>
<tr>
<td><a href="end/">end</a></td>
<td><code>var end:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><code>Int</code></a></td>
</tr>
<tr>
<td><a href="offset/">offset</a></td>
<td><code>var offset:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><code>Long</code></a></td>
</tr>
<tr>
<td><a href="read-write/">readWrite</a></td>
<td><code>var readWrite:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><code>Boolean</code></a></td>
</tr>
<tr>
<td><a href="start/">start</a></td>
<td><code>var start:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><code>Int</code></a></td>
</tr>
</tbody>
</table>
<h3 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="close/">close</a></td>
<td><code>fun close():</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><code>Unit</code></a></td>
</tr>
<tr>
<td><a href="expand-buffer/">expandBuffer</a></td>
<td><code>fun expandBuffer(minByteCount:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><code>Int</code></a><code>):</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><code>Long</code></a><br>Grow the buffer by adding a <strong>contiguous range</strong> of capacity in a single segment. This adds at least <code>minByteCount</code> bytes but may add up to a full segment of additional capacity.</td>
</tr>
<tr>
<td><a href="next/">next</a></td>
<td><code>fun next():</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><code>Int</code></a><br>Seeks to the next range of bytes, advancing the offset by <code>end - start</code>. Returns the size of the readable range (at least 1), or -1 if we have reached the end of the buffer and there are no more bytes to read.</td>
</tr>
<tr>
<td><a href="resize-buffer/">resizeBuffer</a></td>
<td><code>fun resizeBuffer(newSize:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><code>Long</code></a><code>):</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><code>Long</code></a><br>Change the size of the buffer so that it equals <code>newSize</code> by either adding new capacity at the end or truncating the buffer at the end. Newly added capacity may span multiple segments.</td>
</tr>
<tr>
<td><a href="seek/">seek</a></td>
<td><code>fun seek(offset:</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><code>Long</code></a><code>):</code><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><code>Int</code></a><br>Reposition the cursor so that the data at <code>offset</code> is readable at <code>data[start]</code>. Returns the number of bytes readable in <code>data</code> (at least 1), or -1 if there are no data to read.</td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Square, Inc.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../../.."}})</script>
      
    
  </body>
</html>